var langGl={ru:{ogTitle:"Логическая игра ЧИСЛА",header:"<span>ЧИСЛА</span> логическая игра",hi:"Приветствую",target:"Задача отгадать загаданные прогаммой числа с соблюдением точной последовательности.",targetAgain:"Задача все та же - отгадать загаданные прогаммой числа с соблюдением точной последовательности.",bestResult:"Ваш лучший результат",bestResult2:"Лучший результат",typeName:"Введите ваше имя",level:"Уровень сложности",startBtn:"Начать игру",delUser:"Удалить пользователя",tEr:'Поле "Имя" не должно быть пустым!',dUser:"При удалении пользователя будет удалена вся история. Удалить пользователя?",tSu:"Поздравляем! Это ваш лучший результат",tCongr:"Поздравлю, Вы победили!",ugadano:"Угадано чисел",nameste:"На месте",startAgain:"Начать заново",cancelBtn:"Отмена",confirmBtn:"Да"},uk:{ogTitle:"Логічна гра ЧИСЛА",header:"<span>ЧИСЛА</span> логічна гра",hi:"Вітаю",target:"Завдання відгадати загадані прогамма числа з дотриманням точної послідовності.",targetAgain:"Завдання все та ж - відгадати загадані прогамма числа з дотриманням точної послідовності.",bestResult:"Ваш найкращий результат",bestResult2:"Найкращий результат",typeName:"Введіть ваше ім'я",level:"Рівень важкості",startBtn:"Почати гру",delUser:"Видалити користувача",tEr:'Поле "Ім\'я" не повинно бути пустим!',dUser:"При видаленні користувача буде видалена вся історія. Видалити користувача?",tSu:"Вітаю! Це ваш кращій результат",tCongr:"Поздоровлю, Ви перемогли!",ugadano:"Відгадано чисел",nameste:"На місці",startAgain:"Почати спочатку",cancelBtn:"Відмінити",confirmBtn:"Да"},en:{ogTitle:"Logic game NUMBERS",header:"<span>NUMBERS</span> logic game",hi:"Hi",target:"The task is to guess the programmed numbers with the exact sequence.",targetAgain:"The task is still the same - guess the programmed numbers with the exact sequence.",bestResult:"Your best result",bestResult2:"Best result",typeName:"Enter your name",level:"Difficulty level",startBtn:"Start game",delUser:"Remove user",tEr:'The "Name" field can not be empty!',dUser:"If you delete the user, the entire history will be deleted. Delete user?",tSu:"Congratulations! This is your best result",tCongr:"Congratulations, you won!",ugadano:"Guessed numbers",nameste:"On-site",startAgain:"Start again",cancelBtn:"Cancel",confirmBtn:"Yes"}};!function(){var e=function(e){return document.getElementById(e)},t=function(e){return document.querySelectorAll(e)},n=function(e){return document.querySelector(e)},a=n("body"),s=n("title"),l=e("wrap"),r=e("overlay"),i=n(".modal"),o=n(".modal-msg"),c=n(".modal-btn-wrap"),u="",d="",g="",m=e("name"),h=e("btn-start"),v=t(".start-again"),f=n(".cancel-btn"),b=n(".confirm-btn"),L=e("show-results"),p=e("show-settings"),y=t(".btn-back"),T=t(".output-name-js"),S=e("new-name"),k=e("edit-name-wrap"),A=t('input[name="lang"]'),E=e("edit-name"),x=e("header-lg"),M=e("ugadano"),w=e("nameste"),I=e("hi-lg"),B=e("target-lg"),N=e("target-again-lg"),R=e("best-r-lg"),G=e("best-r2-lg"),H=e("results-history"),U=e("results-history-2"),C=e("your-name-lg"),D=e("level-lg"),q=n('meta[property="og:title"]'),O=n('meta[property="og:description"]'),_=t('input[name="level"]'),j=e("del-user"),J=e("display"),Y=t("#key button"),F=e("enter"),z=e("clean"),K=e("vin"),P=e("vin-text"),Q="",V="",W=n(".result"),X=e("if-has-history"),Z=e("if-has-history-2"),$=[],ee=[],te=0,ne=0,ae=new Date,se=(ae.getDate()<10?"0":"")+ae.getDate()+"."+((ae.getMonth()+1<10?"0":"")+(ae.getMonth()+1))+"."+ae.getFullYear(),le=null!=localStorage.getItem("userGame"),re=null!=localStorage.getItem("userLang")?localStorage.getItem("userLang"):"en",ie=null!=localStorage.getItem("userLevel")?localStorage.getItem("userLevel"):3;function oe(){[].forEach.call(T,(function(e){e.innerText=localStorage.getItem("userGame")}))}function ce(e){var t=langGl[e];q.setAttribute("content",t.ogTitle),s.innerText=t.ogTitle,O.setAttribute("content",t.target),x.innerHTML=t.header,I.innerText=t.hi,B.innerText=t.target,N.innerText=t.targetAgain,R.innerText=t.bestResult,G.innerText=t.bestResult2,C.innerText=t.typeName,D.innerText=t.level,h.innerText=t.startBtn,j.innerText=t.delUser,M.innerText=t.ugadano,w.innerText=t.nameste,u=t.tEr,d=t.dUser,Q=t.tSu,V=t.tCongr,v[0].innerText=t.startAgain,v[1].innerText=t.startAgain,f.innerText=t.cancelBtn,b.innerText=t.confirmBtn}function ue(e,t){e.classList.contains(t)&&(e.classList.remove(t),setTimeout((function(){r.style.display="none"}),500))}function de(e,t){e.classList.contains(t)||(r.style.display="block",setTimeout((function(){e.classList.add(t)}),100))}function ge(){var e=JSON.parse(localStorage.getItem("result"));if(null!==e){var t="";for(var n in e){var a=e[n];for(var s in t+='<div class="'+n+'"><i class="material-icons">star</i>',a)t+="<span>"+a[s]+"</span>";t+="</div>"}H.innerHTML=t,U.innerHTML=t,X.classList.remove("hidden"),Z.classList.remove("hidden")}}function me(e,t,n){a.classList.add("show-modal"),i.classList.add(e),o.innerText=t,n&&c.classList.add("show-modal-btn")}function he(){a.classList.remove("show-modal"),c.classList.contains("show-modal-btn")&&c.classList.contains("show-modal-btn"),n(".modal").classList.contains("error-cl")&&n(".modal").classList.remove("error-cl")}function ve(){for(var e=!0;e;){var t=Math.round(9*Math.random()),n=Math.round(9*Math.random()),a=Math.round(9*Math.random()),s=Math.round(9*Math.random()),l=Math.round(9*Math.random());t!=n&&t!=a&&t!=s&&t!=l&&n!=a&&n!=s&&n!=l&&a!=s&&a!=l&&s!=l&&(ee=(ee=[t,n,a,s,l]).splice(0,ie),e=!1)}console.log(ee)}function fe(){J.value="",$=[],z.setAttribute("disabled","disabled"),F.setAttribute("disabled","disabled");for(var e=0;e<Y.length;e++)Y[e].removeAttribute("disabled")}null==localStorage.getItem("userLevel")&&localStorage.setItem("userLevel","3"),le&&(l.classList.add("auth"),oe()),j.addEventListener("click",(function(){me("error-cl",d,!0)})),b.onclick=function(){a.classList.add("no-game"),localStorage.clear(),l.className="main-wrap start-layout",m.value="",e("en").setAttribute("checked","checked"),e("s3").setAttribute("checked","checked"),ie=3,localStorage.setItem("userLevel","3"),le=!1,X.classList.add("hidden"),Z.classList.add("hidden"),H.innerHTML="",U.innerHTML="",he()},e(re).setAttribute("checked","checked"),n("html").setAttribute("lang",re),ce(re),[].forEach.call(A,(function(e){e.addEventListener("change",(function(){localStorage.setItem("userLang",e.value),n("html").setAttribute("lang",e.value),ce(e.value)}))})),e("s"+ie).setAttribute("checked","checked"),[].forEach.call(_,(function(e){e.addEventListener("change",(function(){localStorage.setItem("userLevel",e.value),ie=e.value,ee.length>0&&(ve(),W.innerHTML="",ue(l,"settings-layout"))}))})),p.onclick=function(){de(l,"settings-layout"),ge()},m.onblur=function(){""!=this.value&&this.classList.add("not-empty"),""==this.value&&this.classList.contains("not-empty")&&this.classList.remove("not-empty")},ge(),L.onclick=function(){de(l,"results-layout")},[].forEach.call(y,(function(e){e.addEventListener("click",(function(){l.className="main-wrap",setTimeout((function(){r.style.display="none"}),500)}))})),n(".modal-overlay").onclick=function(){he()},n(".modal-close").onclick=function(){he()},f.onclick=function(){he()},r.onclick=function(){if(l.classList.contains("start-layout")&&""==m.value)return me("error-cl",u),!1;var e=this;l.className="main-wrap",setTimeout((function(){e.style.display="none"}),500)},E.addEventListener("click",(function(){g=localStorage.getItem("userGame"),k.classList.add("iseditting"),S.value=localStorage.getItem("userGame"),S.focus()})),S.addEventListener("blur",(function(){""!==this.value?(localStorage.setItem("userGame",this.value),this.value=""):localStorage.setItem("userGame",g),k.classList.remove("iseditting"),oe()})),e("key").addEventListener("click",(function(e){var t=+e.target.innerHTML;return!isNaN(t)&&(!($.length>ie-1)&&($.push(t),$.length==ie&&F.removeAttribute("disabled"),$.length>0&&z.removeAttribute("disabled"),e.target.setAttribute("disabled","disabled"),void(J.value=$.join(""))))})),F.addEventListener("click",(function(){!function(){te=0,ne=0;for(var e=0;e<ie;e++){for(var t=0;t<ie;t++)$[e]==ee[t]&&te++;$[e]==ee[e]&&ne++}}();var e=document.createElement("li");e.innerHTML="<span>"+te+"</span><span>"+ne+"</span><span>"+$.join("")+"</span>",fe(),W.appendChild(e),de(l,"results-layout"),te==ne&&te==ie&&(K.classList.add("is-vin"),function(){var e="level_"+ie,n=JSON.parse(localStorage.getItem("result")),s={};switch(a.classList.add("no-game"),ie){case"3":s={level_3:{countSteps:t(".result li").length,date:se}};break;case"4":s={level_4:{countSteps:t(".result li").length,date:se}};break;case"5":s={level_5:{countSteps:t(".result li").length,date:se}}}K.classList.contains("best-result")&&K.classList.remove("best-result");P.innerText=V,null!==n?n[e]?n[e].countSteps>s[e].countSteps&&(n[e]=s[e],K.classList.add("best-result"),P.innerText=Q):n[e]=s[e]:n=s;localStorage.setItem("result",JSON.stringify(n)),ee=[];for(var l=0;l<Y.length;l++)Y[l].setAttribute("disabled","disabled")}())})),z.addEventListener("click",fe),h.onclick=function(){if(!le){if(""==m.value)return me("error-cl",u),!1;localStorage.setItem("userGame",m.value)}a.classList.remove("no-game"),ve(),ue(l,"start-layout"),oe()},[].forEach.call(v,(function(e){e.addEventListener("click",(function(){a.classList.remove("no-game");for(var e=0;e<Y.length;e++)Y[e].removeAttribute("disabled");fe(),ve(),W.innerHTML="",K.classList.contains("is-vin")&&K.classList.remove("is-vin"),ue(l,"results-layout")}))})),window.onload=function(){n(".loader-inner").classList.add("hidden-inner"),setTimeout((function(){e("loader").classList.add("hidden")}),500)}}();